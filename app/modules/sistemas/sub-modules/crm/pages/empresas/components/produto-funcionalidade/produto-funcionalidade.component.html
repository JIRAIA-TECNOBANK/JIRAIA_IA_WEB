<div class="produto-item">
  <div class="produto-item__content">
    <div class="mb-1">
      <label>
        <input type="checkbox" [(ngModel)]="isActive" />
        <span class="fw-bold"> {{produto}} </span>
      </label>
    </div>
    <button
      mat-button
      class="editar-funcionalidade"
      (click)="editarFuncionalidades('econtrato')"
      [disabled]="!isActive"
      type="button"
    >
      Editar funcionalidades
      <i class="fal fa-arrow-right"></i>
    </button>
  </div>
</div>

<div class="tela-funcionalidades" *ngIf="showFuncionalidade">
  <div class="tela-funcionalidades-container">
    <div class="fw-bold mb-2">Funcionalidades</div>
    <div class="funcionalidades">
      <div
        class="funcionalidades-list"
        *ngFor="let categoria of permissoes; let i = index"
      >
        <div>
          <mat-checkbox (change)="setAll($event.checked)" [checked]="getSetAll()" [indeterminate]="getIndeterminate()">
            {{ categoria.grupo }}
          </mat-checkbox>
        </div>
        <div>
          <ul>
            <li *ngFor="let permissao of categoria.acoes">
              <mat-checkbox
              (change)="checkFuncionalidade($event.checked, permissao.id )"
              [id]="permissao.id"
              [checked]="checkPermissao(permissao.id)"

              >
                {{ permissao.nome }}
              </mat-checkbox>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <div class="d-flex justify-content-between my-4" fxLayout="row" fxLayoutGap="10px" >
      <button
        mat-stroked-button
        class="btn-outline-primary"
        color="primary"
        type="button"
        (click)="fecharFuncionalidades()"
      >
        Voltar
      </button>
    </div>
  </div>
</div>
