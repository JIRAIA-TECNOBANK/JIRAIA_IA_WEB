<div [hidden]="childstate" class="px-2 pb-3">
  <div class="box__btn">
    <button mat-flat-button class="box__btn--btn" color="secondary" routerLink="registrar-detran"
      [disabled]="!utility.getPermission([Permissoes.PARAMETRIZACAO_IMAGENS_REGRA_IMAGEM_PARAMETRIZAR])">
      Novo Detran
    </button>
  </div>

  <mat-card class="mat-elevation-z8 mt-2 p-0">
    <section class="text-paginator">
      <div class="row d-flex">
        <section class="default-text" *ngIf="paginator">
          Mostrando {{ paginator?.pageSize > totalItems ? totalItems :
          paginator?.pageSize }} de {{
          totalItems }} resultados
        </section>
      </div>
    </section>
    <mat-paginator [pageSizeOptions]="[25, 50, 75, 100]" [length]="totalItems" aria-label="Itens por página" #paginator>
    </mat-paginator>

    <div>
      <table mat-table [dataSource]="items$ | async">

        <ng-container matColumnDef="detran">
          <th mat-header-cell *matHeaderCellDef>Detran</th>
          <td mat-cell *matCellDef="let element">{{ element.uf }}</td>
        </ng-container>

        <ng-container matColumnDef="tamanhoPorArquivoTBK">
          <th mat-header-cell *matHeaderCellDef>Tamanho por arquivo (TBK)</th>
          <td mat-cell *matCellDef="let element">{{ element.tamanhoArquivoTbk }}</td>
        </ng-container>

        <ng-container matColumnDef="tamanhoPorArquivoDetran">
          <th mat-header-cell *matHeaderCellDef>
            Tamanho por arquivo (Detran)
          </th>
          <td mat-cell *matCellDef="let element">{{ element.tamanhoArquivoDetran }}</td>
        </ng-container>

        <ng-container matColumnDef="extensaoTBK">
          <th mat-header-cell *matHeaderCellDef>Extensão (TBK)</th>
          <td mat-cell *matCellDef="let element">{{ element.extensaoTbk }}</td>
        </ng-container>

        <ng-container matColumnDef="extensaoDetran">
          <th mat-header-cell *matHeaderCellDef>Extensão (Detran)</th>
          <td mat-cell *matCellDef="let element">
            {{ element.extensaoDetran }}
          </td>
        </ng-container>

        <ng-container matColumnDef="envioDetran">
          <th mat-header-cell *matHeaderCellDef>Envio Detran</th>
          <td mat-cell *matCellDef="let element">
            {{ element.envioDetran }}
          </td>
        </ng-container>

        <ng-container matColumnDef="converterExtensao">
          <th mat-header-cell *matHeaderCellDef>Converter Extensão</th>
          <td mat-cell *matCellDef="let element">
            {{ element.converteExtensao }}
          </td>
        </ng-container>

        <ng-container matColumnDef="converterTamanho">
          <th mat-header-cell *matHeaderCellDef>Converter Tamanho</th>
          <td mat-cell *matCellDef="let element">
            {{ element.converteTamanho }}
          </td>
        </ng-container>

        <ng-container matColumnDef="status">
          <th mat-header-cell *matHeaderCellDef>Status</th>
          <td mat-cell *matCellDef="let element">
            <div class="status-pill" [ngClass]="
            element.ativo ? 'status-pill__active' : 'status-pill__inactive'
          ">
              {{ element.ativo ? "Ativo" : "Inativo" }}
            </div>
          </td>
        </ng-container>

        <ng-container matColumnDef="acoes">
          <th mat-header-cell *matHeaderCellDef class="actions-column"></th>
          <td mat-cell *matCellDef="let element">
            <button mat-button [matMenuTriggerFor]="menu">
              <mat-icon>more_vert</mat-icon>
            </button>
            <mat-menu #menu="matMenu">
              <button mat-menu-item (click)="editarImagem(element.id)"
                [disabled]="!utility.getPermission([Permissoes.PARAMETRIZACAO_IMAGENS_REGRA_IMAGEM_PARAMETRIZAR])">
                Editar
              </button>
              <button mat-menu-item disabled>
                Resumo de atividades
              </button>
              <button mat-menu-item (click)="ativarInativarConfigImagem(element.id, !element.ativo)"
                [disabled]="!utility.getPermission([Permissoes.PARAMETRIZACAO_IMAGENS_REGRA_IMAGEM_PARAMETRIZAR])">
                {{ element.ativo ? "Inativar" : "Ativar" }}
              </button>
            </mat-menu>
          </td>
        </ng-container>

        <ng-container matColumnDef="semRegistro">
          <th class="text-center feedBack pt-1" mat-cell *matFooterCellDef colspan="11">
            <img src="./../../../../../../../../../assets/img/custom-icons/icon-vazio-artigos.svg" />
            <p class="desk bold text-gray-700"> Não há registros. </p>
          </th>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
        <tr mat-row *matFooterRowDef="['semRegistro']" [ngClass]="{'d-none': totalItems > 0 }"></tr>
      </table>
      <section class="text-paginator">
        <div class="row d-flex">
          <section class="default-text">
            Mostrando {{ paginator?.pageSize > totalItems ? totalItems :
            paginator?.pageSize }} de {{
            totalItems }} resultados
          </section>
        </div>
      </section>
      <mat-paginator (page)="syncPrimaryPaginator($event)" [pageSize]="paginator.pageSize"
        [pageIndex]="paginator.pageIndex" [length]="paginator.length" [pageSizeOptions]="paginator?.pageSizeOptions">
      </mat-paginator>
    </div>
  </mat-card>

</div>

<router-outlet></router-outlet>