<div>
	<section class="text-paginator">
		<div class="row d-flex">
			<section class="default-text" *ngIf="paginator">
				Mostrando
				{{
				paginator?.pageSize > totalItens
				? totalItens
				: paginator?.pageSize
				}}
				de {{ totalItens }} resultados
			</section>
		</div>
	</section>
	<mat-paginator [pageSizeOptions]="[25, 50, 75, 100]" [length]="totalItens" #paginator></mat-paginator>

	<div>
		<table mat-table [dataSource]="items$ | async" aria-describedby="Consultar DETRAN"
			(matSortChange)="sortData($event)" matSort>
			<ng-container matColumnDef="cnpj">
				<th mat-header-cell *matHeaderCellDef mat-sort-header>CNPJ</th>
				<td mat-cell *matCellDef="let element" class="column-max-width">{{
					element.cnpj | mask: formatDocumento() }}</td>
			</ng-container>

			<ng-container matColumnDef="uf">
				<th mat-header-cell *matHeaderCellDef mat-sort-header>UF</th>
				<td mat-cell *matCellDef="let element" class="column-max-width">{{
					element.uf }}</td>
			</ng-container>

			<ng-container matColumnDef="mesCompetencia">
				<th mat-header-cell *matHeaderCellDef mat-sort-header>Mês de competência</th>
				<td mat-cell *matCellDef="let element" class="column-max-width text-captalize">{{
					retornarNomeMes(element.mesCompetencia) }}</td>
			</ng-container>

			<ng-container matColumnDef="ano">
				<th mat-header-cell *matHeaderCellDef mat-sort-header>Ano</th>
				<td mat-cell *matCellDef="let element" class="column-max-width">{{
					element.ano }}</td>
			</ng-container>

			<ng-container matColumnDef="oficio">
				<th mat-header-cell *matHeaderCellDef>Ofício</th>
				<td mat-cell *matCellDef="let element" class="column-max-width">
					<a mat-button type="button" *ngIf="element.oficio" matTooltip="Baixar ofício"
						[href]="element.oficio">
						<i class="fa-solid fa-circle-down text-primary"></i>
					</a>
				</td>
			</ng-container>

			<ng-container matColumnDef="boleto">
				<th mat-header-cell *matHeaderCellDef>Boleto</th>
				<td mat-cell *matCellDef="let element" class="column-max-width">
					<a mat-button type="button" *ngIf="element.boleto" [href]="element.boleto"
						matTooltip="Baixar boleto" download>
						<i class="fa-solid fa-circle-down text-primary"></i>
					</a>
				</td>
			</ng-container>

			<ng-container matColumnDef="linhaDigitavel">
				<th mat-header-cell *matHeaderCellDef>Linha digitável</th>
				<td mat-cell *matCellDef="let element" class="column-max-width">
					<a mat-button type="button" *ngIf="element.linhaDigitavel"
						(click)="copiarLinhaDigitavel(element.linhaDigitavel)"
						[matTooltip]="!copiado ? 'Copiar linha digitável' : 'Copiado!'" download>
						<i class="fa-solid fa-copy text-primary"></i>
					</a>
				</td>
			</ng-container>

			<ng-container matColumnDef="status">
				<th mat-header-cell *matHeaderCellDef mat-sort-header> Status </th>
				<td mat-cell *matCellDef="let element" class="column-max-width">{{
					isNumber(element.status) }}</td>
			</ng-container>

			<ng-container matColumnDef="acoes">
				<th mat-header-cell *matHeaderCellDef>Baixar boleto e ofício</th>
				<td mat-cell *matCellDef="let element" class="medium-width">
					<a mat-button type="button" *ngIf="element.oficio && element.boleto"
						matTooltip="Baixar boleto e ofício" (click)="baixarBoletoOficio(element)">
						<i class="fa-solid fa-circle-down text-primary"></i>
					</a>
				</td>
			</ng-container>

			<ng-container matColumnDef="semRegistro">
				<th class="text-center feedBack pt-1" mat-cell *matFooterCellDef colspan="11">
					<img src="./../../../../../../../../../../assets/img/custom-icons/icon-vazio-artigos.svg"
						alt="Não há registros." />
					<p class="desk bold text-gray-700"> Não há registros. </p>
				</th>
			</ng-container>

			<tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
			<tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
			<tr mat-row *matFooterRowDef="['semRegistro']" [ngClass]="{'d-none': totalItens > 0 }"></tr>
		</table>

		<section class="text-paginator">
			<div class="row d-flex">
				<section class="default-text">
					Mostrando
					{{
					paginator?.pageSize > totalItens
					? totalItens
					: paginator?.pageSize
					}}
					de {{ totalItens }} resultados
				</section>
			</div>
		</section>
		<mat-paginator (page)="syncPrimaryPaginator($event)" [pageSize]="paginator.pageSize"
			[pageIndex]="paginator.pageIndex" [length]="paginator.length"
			[pageSizeOptions]="paginator?.pageSizeOptions">
		</mat-paginator>
	</div>
</div>