<div class="px-2">
  <mat-card class="mb-4 mat-elevation-z8">
    <div class="fw-bold">{{ aplicacaoId ? 'Editar Aplicacao' : 'Cadastro de Aplicação' }}</div>
    <form [formGroup]="createAplicacaoForm" class="mt-2" (ngSubmit)="submitAplicacao()">
      <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="10px">
        <mat-form-field appearance="outline" fxFlex="30">
          <mat-label>Nome</mat-label>
          <input matInput placeholder="Nome" formControlName="nome" required />
          <mat-error *ngIf="createAplicacaoForm.controls['nome'].hasError('required')">Campo obrigatório</mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline" fxFlex="30">
          <mat-label>URL do callback</mat-label>
          <input matInput placeholder="URL do callback" formControlName="callbackUrl" required />
          <mat-error *ngIf="createAplicacaoForm.controls['callbackUrl'].hasError('required')">Campo obrigatório</mat-error>
        </mat-form-field>

        <div fxFlex="20" style="display: flex; align-items: center;">
          <mat-slide-toggle formControlName="ativo">Ativo?</mat-slide-toggle>
        </div>
      </div>

      <div class="d-flex justify-content-end">
        <button mat-flat-button color="primary" type="submit" [disabled]="createAplicacaoForm.invalid">
          {{ aplicacaoId ? 'Atualizar' : 'Confirmar' }}
        </button>
      </div>
    </form>

    <div class="fw-bold">Credenciais da aplicação</div>
    <div *ngIf="!credenciais"
      style="width:100%; padding:40px; margin-top:20px; background: #F1F1F1; border-radius:5px; text-align: center;">
      <ng-container>
        <div class="text-center feedBack pt-1">
          <img src="./../../../../../../../../assets/img/custom-icons/icon-vazio-artigos.svg" />
          <p class="desk bold text-gray-700">Conclua a inclusão da aplicação para visualizar as credenciais.</p>
        </div>
      </ng-container>
    </div>

    <div *ngIf="credenciais"
      style="width:100%; padding:20px; margin-top:20px; background: #F1F1F1; border-radius:5px;">
      <ng-container *ngFor="let credencial of credenciais">
        <div class="feedBack pt-1">
          <p class="desk bold" style="margin:0px;">{{credencial.chavePublica}} <i style="color:#1666AE; cursor:pointer;" class="fa-solid fa-copy" (click)="copiarMsg(credencial.chavePublica)" matTooltip="Copiar"></i></p>
        </div>
      </ng-container>
    </div>
  </mat-card>
</div>
